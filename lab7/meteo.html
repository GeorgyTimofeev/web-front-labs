<!doctype html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <title>Тимофеев Георгий Алексеевич. Лабораторная 7</title>
        <link rel="stylesheet" href="../main.css" />
        <link rel="stylesheet" href="main.css" />
        <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />
        <link rel="icon" href="../favicon-16x16.png" />
        <link rel="icon" href="../favicon-32x32.png" />
        <style>
            .forecast-info {
                padding: 10px;
                margin: 10px;
                border: 7px solid #ab8df6;
                border-radius: 20px;
                width: 445px;
                font-family: Helvetica;
                text-align: center;
                color: #9a7be5;
                background-color: #e6e6fa;
                font-weight: bold;
            }
        </style>
        <script>
            window.onload = function() {
                const Url = 'https://api.open-meteo.com/v1/forecast?latitude=55.0415&longitude=82.9346&hourly=temperature_2m&timezone=Asia%2FBangkok';

                fetch(Url)
                    .then(response => response.json())
                    .then(data => {
                        const hours = data.hourly.time;
                        const temperatures = data.hourly.temperature_2m;

                        const index8 = hours.findIndex(time => time.endsWith('08:00'));
                        const index12 = hours.findIndex(time => time.endsWith('12:00'));
                        const index20 = hours.findIndex(time => time.endsWith('20:00'));

                        document.getElementById('temp8').textContent = temperatures[index8] + '°C';
                        document.getElementById('temp12').textContent = temperatures[index12] + '°C';
                        document.getElementById('temp20').textContent = temperatures[index20] + '°C';
                    });
            }
        </script>
        </head>
        <body>
            <header>
                НГТУ, ФБ, Лабораторная работа 7
            </header>

            <main>
                <div
                    class="menu"
                    style="
                        padding: 10px;
                        margin: 10px;
                        border: 7px solid #9a7be5;
                        border-radius: 20px;
                        width: 500px;
                        font-family: Helvetica;
                        text-align: center;
                        color: white;
                        background-color: #ab8df6;
                        font-weight: bold;
                    "
                >
                    <h2>Прогноз погоды</h2>
                    <div class="forecast-info">
                        <p>Температура в 8:00: <span id="temp8"></p>
                        <p>Температура в 12:00: <span id="temp12"></p>
                        <p>Температура в 20:00: <span id="temp20"></p>
                    </div>
                </div>
            </main>


        <footer>&copy; Тимофеев Георгий, ФБИ-22, 2 курс, 2024</footer>
    </body>
</html>
